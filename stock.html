<!DOCTYPE html>
<html>
<head>
</head>
<body>
<center>
<h1>Real Time Fetch with Simple Balance Sheet Statement</h1>
<table id='tbl' border=1>
<tr>
<th style="width: 120px;"> Date </th>
<th style="width: 120px;"> Symbol </th>
<th style="width: 120px;"> Cik </th>
<th style="width: 120px;"> Period </th>
<th style="width: 120px;"> Calendar Year </th>
<th style="width: 120px;"> Goodwill </th>
<th style="width: 120px;"> Tax Assets </th>
</tr>
</table>
</center>
<script>
    window.addEventListener('DOMContentLoaded',(event)=>{
        let source=["https://financialmodelingprep.com/api/v3/balance-sheet-statement/AAPL?period=annual&apikey=RslEVBRQCqRMloHRNgFZKgkM1UhHPCKM"]
        let index=0
        while(index < source.length){
            console.log("fetching from"+ source[index]);
            fetch(source[index])
            .then(response => response.json())
            .then(data =>{
                console.log(data);
                let dat1 = data;
                console.log(dat1);
                let tb = document.getElementById("tbl");

                for(let i=0;i<dat1.length;i++)
                {
                    var tr = document.createElement('tr');

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["date"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["symbol"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["cik"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["period"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["calendarYear"];
                    tr.appendChild(td);

                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["goodwill"];
                    tr.appendChild(td);
                   
                    var td = document.createElement('td');
                    td.innerHTML = dat1[i]["taxAssets"];
                    tr.appendChild(td);

                    tb.appendChild(tr);
                }

            })
            .catch(error => console.log('error', error));
            index+=1;
        }
    });
</script>
</body>
</html>
